{% extends "index.html" %}

{% load static %}

{% block title %}
<title>Dashboard</title>
{% endblock %}

{% block script %}
<script> let totalSavingsArray = JSON.parse( '{{ total_savings_array_json|safe }}' );
         let totalProductionArray = JSON.parse( '{{ total_production_kwh_array_json|safe }}' );
<<<<<<< HEAD
         let monthIrradianceArray = JSON.parse( '{{ monthly_irradiance_json|safe }}' );
         let monthlyPanelEnergy= JSON.parse('{{monthly_panel_energy_produced_json|safe }}' );
         let roi = '{{ roi }}';
         let annual_roi = '{{ annualized_roi }}';
=======
         let monthProductionArray = JSON.parse( '{{ month_production_array_json|safe }}' );
         let roi = '{{ roi }}';
         let annual_roi = '{{ annualized_roi }}';
         console.log('ROI: ', roi, 'An.ROI: ', annual_roi);
>>>>>>> 8df12127ee48ab232b6828d149c92dcbf825a3d2
         let lcoe = '{{ lcoe }}';
         let irr = '{{ irr }}';
         let npv = '{{ net_present_value }}'
 </script>
<<<<<<< HEAD
 <script src="{% static 'Net_Metering/javascript/charterssssss.js' %}" defer></script>
=======
 <script src="{% static 'Net_Metering/javascript/charts.js' %}" defer></script>
>>>>>>> 8df12127ee48ab232b6828d149c92dcbf825a3d2
 <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js" ></script>
{% endblock %}

{% block menu_list %}
    <li><a href="{% url 'home' %}"><i class="fas fa-home"></i> home</a></li>
    <li><a href="{% url 'simulation:calculator' %}"><i class="fas fa-calculator"></i> calculator</a></li>
    <li><a class="nav-link active" href="{% url 'simulation:dashboard' %}"><i class="fas fa-qrcode"></i> dashboard</a></li>
    <li><a href="{% url 'simulation:regulations' %}"><i class="fas fa-scale-unbalanced-flip"></i> regulations</a></li>
    <li><a href="{% url 'simulation:about' %}"><i class="fas fa-info-circle"></i> about</a></li>
{% endblock %}

{% block content %}

    <div class="dashboard-page-content">

      <section class="full-container">
    
        <div class="left-container">

            <div class="left-upper">

              <div class="container-icons">
                <div class="titles-panel">Επένδυση</div>
                <script src="https://cdn.lordicon.com/ritcuqlt.js"></script>
                <lord-icon class="lord-icon-small" src="https://cdn.lordicon.com/ftjtyaku.json"
                    trigger="hover"
                    style="width:120px;height:120px">
                </lord-icon>
                <p class="info-title" id="total_investment" data-value="{{ total_investment|default:'0' }}">Σύνολο: {{total_investment|default:'0' }} €</p>    
              </div>

              <div class="container-icons">
                <div class="titles-panel">Απόσβεση</div>
                <script src="https://cdn.lordicon.com/ritcuqlt.js"></script>
                  <lord-icon
                      src="https://cdn.lordicon.com/uutnmngi.json"
                      trigger="hover"
                      style="width:100px;height:120px">
                  </lord-icon>
                <p class="info-title"  id="paybackPeriod" data-value="{{ payback_period|default:'0' }}" >{{payback_period|default:'0 έτη'}}</p>
              </div>

              <div class="container-icons">
                <div class="titles-panel">Όφελος</div>
                <script src="https://cdn.lordicon.com/ritcuqlt.js"></script>
                  <lord-icon
                      src="https://cdn.lordicon.com/isdxbcqi.json"
                      trigger="hover"
                      style="width:110px;height:120px">
                  </lord-icon>
                <p class="info-title" id="profit" >{{average_annual_savings|default:'0'}} €/έτος   ({{profitPercent|default:'0'}}%)</p>
              </div>
          
            </div>
          
            <div class="left-middle">
            
                 <div class="panels-container" id="second-panel" title="profit">
                     <canvas class="panels-element-size" id="myChart2" ></canvas>
                 </div>
            
             </div>
          
            <div class="left-below">
          
              <div class="container-icons-bottom">
                <div class="titles-panel">Μειωμένη Εκπομπή CO2</div>
                <script src="https://cdn.lordicon.com/ritcuqlt.js"></script>
                  <lord-icon
                      src="https://cdn.lordicon.com/npfyliwp.json"
                      trigger="hover"
                      style="width:120px;height:120px">
                  </lord-icon>
                <p class="info-title" id="CO2" data-value="{{ average_CO2|default:'0' }}">{{average_CO2|default:'0' }}kg CO2 eq/kWh </p>
              </div>
              
              <div class="container-icons-bottom">
                <div class="titles-panel">Ισοδύναμα Φυτεμένα Δέντρα</div>
                <script src="https://cdn.lordicon.com/ritcuqlt.js"></script>
                  <lord-icon
                      src="https://cdn.lordicon.com/azbllxpx.json"
                      trigger="hover"
                      style="width:120px;height:120px">
                  </lord-icon>
                 <p class="info-title" id="trees" data-value="{{ trees_planted|default:'0' }}">{{trees_planted|default:'0' }} νέα δέντρα </p>
              </div>
              
              <div class="container-icons-bottom">
                <div class="titles-panel">Μικρότερο Ενεργειακό Αποτύπωμα</div>
                <script src="https://cdn.lordicon.com/ritcuqlt.js"></script>
                  <lord-icon
                      src="https://cdn.lordicon.com/efdhjqgx.json"
                      trigger="hover"
                      style="width:100px;height:120px">
                  </lord-icon>
                <p class="info-title" id="other_energy" data-value="{{ annual_kwh|default:'0' }}">{{annual_kwh|default:'0' }}kWh/έτος</p>
              </div>
          
            </div>

        </div>
        
        <div class="right-container">
          
           <div class="right-upper">
    
                <div class="panels-container" id="first-panel" title="production">
                  <canvas class="panels-element-size" id="myChart1" ></canvas>
              </div>

          
            </div>

            <div class="right-below">

             <div class="panels-container" id="third-panel">
                  <canvas class="panels-element-size" id="myChart3"></canvas>
                </div>
    
      </div>
          
        </div> 
        
      </section>
      <div class="little-spacer-dash">
          <div class='go-back-button-dash-empty'>
            <a href="{% url 'simulation:calculator' %}">
              <button id="change-data-button">
               <i class="fas fa-calculator"></i>
               Νέος Υπολογισμός</button>
           </a>
          </div>
      </div>
    </div>

{% endblock %}
